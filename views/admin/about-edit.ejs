<!DOCTYPE html>
<html>
<head>
  <title>Edit About Page</title>
  <link rel="stylesheet" href="/style.css">
  <!-- TinyMCE -->
  <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
  <script>
    tinymce.init({
      selector: '#pageContent',
      height: 600,
      menubar: true,
      plugins: [
        'advlist', 'autolink', 'lists', 'link', 'image', 'charmap', 'preview',
        'searchreplace', 'visualblocks', 'code', 'fullscreen',
        'insertdatetime', 'media', 'table', 'help', 'wordcount'
      ],
      toolbar: 'undo redo | blocks | ' +
        'bold italic forecolor backcolor | alignleft aligncenter ' +
        'alignright alignjustify | bullist numlist outdent indent | ' +
        'removeformat | link image | code | help',
      content_style: 'body { font-family:Helvetica,Arial,sans-serif; font-size:14px; line-height: 1.7; }',
      block_formats: 'Paragraph=p; Heading 2=h2; Heading 3=h3; Heading 4=h4;',
      image_advtab: true,
      setup: function(editor) {
        editor.on('init', function() {
          editor.setContent(document.getElementById('pageContentHidden').value);
        });
      }
    });
  </script>
</head>
<body style="background: <%= settings.backgroundColor %>; color: <%= settings.textColor %>;">
  <div class="admin-bar">
    <span>✏️ Edit About Page</span>
    <div>
      <a href="/admin/dashboard">Dashboard</a>
      <a href="/about">View About</a>
      <a href="/admin/logout">Logout</a>
    </div>
  </div>
  <div class="container" style="padding: 40px;">
    <h1 style="margin-bottom: 20px;">Edit About Page</h1>
    <p style="margin-bottom: 30px; color: var(--secondary-text);">
      Edit the entire About page content below. Use headings (H2 for main sections, H3 for subsections), 
      format text, add lists, and style as needed. Everything you see here will appear on the About page.
    </p>
    
    <form id="aboutForm">
      <input type="hidden" id="pageContentHidden" value="<%= about.fullContent %>">
      <div class="form-group">
        <textarea id="pageContent"></textarea>
      </div>
      
      <div style="margin-top: 30px; display: flex; gap: 15px;">
        <button type="submit">Save Changes</button>
        <a href="/about" class="btn" style="background: var(--secondary-text); text-decoration: none;">Cancel</a>
      </div>
    </form>
  </div>
  <script src="/script.js"></script>
</body>
</html>
