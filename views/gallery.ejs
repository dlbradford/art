<%- include('layout', { 
  title: 'Gallery',
  page: 'gallery',
  body: `
    <h2 style="font-size: 28px; margin-bottom: 30px; font-weight: 600;">Art Gallery</h2>
    
    <div class="gallery-grid">
      ${images && images.length > 0 ? 
        images.map(image => `
          <div class="gallery-item" onclick="openLightbox('/uploads/${image.filename}', '${image.title}', '${image.description || ''}')">
            <img src="/uploads/${image.filename}" alt="${image.title}">
            <div class="gallery-info">
              <div class="gallery-title" style="color: ${settings.textColor};">${image.title}</div>
              ${image.description ? `<div class="gallery-description">${image.description}</div>` : ''}
            </div>
          </div>
        `).join('') :
        '<p style="grid-column: 1/-1; text-align: center; padding: 40px;">No images yet. Check back soon!</p>'
      }
    </div>

    <!-- Lightbox -->
    <div id="lightbox" class="lightbox" onclick="if(event.target === this) closeLightbox()">
      <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
      <div class="lightbox-content">
        <img id="lightbox-img" src="" alt="">
        <div class="lightbox-info">
          <h3 id="lightbox-title"></h3>
          <p id="lightbox-desc"></p>
        </div>
      </div>
    </div>
  `
}) %>
